@using HelpDesk.Shared.Utilities.Results.ComplexTypes
@model HelpDesk.Mvc.Areas.Admin.Models.UserListViewModel
@{
    Layout = "_Layout";
    ViewBag.Title = "Employee Index";
}
@section Scripts
{
    <script src="~/js/employeeIndex.js" type="application/ecmascript"></script>
}

<div class="row">
    <div class="container">
        <div class="col-md-12">
            <div class="card mt-3">
                <form name="form" method="post">
                    <div class="card-header"><h5>Kullanıcı Ekle</h5></div>
                    <div class="card-body">

                        <div class="mb-3">
                            <label>Kullanıcı Adı</label>
                            <div class="form-group">
                                <input type="text" id="userName" name="userName" class="form-control" placeholder="Kullanıcı Adı" />
                            </div>
                        </div>


                        <label>Çalıştığı Şirket</label>
                        <div class="mb-3">
                            <div class="input-group-prepend">
                                <select id="companyName" name="companyName ">
                                    @if (Model != null)
                                    {
                                        foreach (var item in Model.CompanyList.Data.Companies)
                                        {
                                            <option value="@item.Id">@item.Name</option>
                                        }
                                    }
                                </select>
                            </div>
                        </div>




                        <div class="mb-3">
                            <label>Email</label>
                            <div class="form-group">
                                <input type="text" class="form-control " id="email" name="email" placeholder="EMail">
                            </div>
                        </div>



                        <div class="mb-3">
                            <label>Şifre</label>
                            <div class="form-group">
                                <input type="text" class="form-control " id="password" name="password" placeholder="Şifre">
                            </div>
                        </div>



                        <label>Role</label>
                        <div class="mb-3">
                            <div class="input-group-prepend">
                                <select id="roleName" name="roleName ">
                                    <option value="1">User</option>
                                    <option value="2">Admin</option>
                                </select>
                            </div>
                        </div>



                        @*<label>İlgili Admin İsmi</label>
                            <div class="mb-3">
                                <div class="input-group-prepend">
                                    <select id="admin" name="admin">
                                        @if (Model != null)
                                        {
                                            foreach (var itemAdmin in Model.AdminList.Data.Admins)
                                            {
                                                <option value="@itemAdmin.Id">@itemAdmin.Name</option>
                                            }
                                        }
                                    </select>
                                </div>
                            </div>*@





                    </div>
                    <div class="card-footer">
                        <button class="btn btn-primary " id="btnSave" type="button" name="btnSave">Kullanıcı Ekle</button>
                        <button class="btn btn-success btnUpdate" type="button">Güncelle</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>





<div id="modelPlaceHolder" aria-hidden="true"></div>
<div class="card mb-4 mt-3">
    <div class="card-header">
        <i class="fas fa-table mr-1"></i>
        Kullanıcı Ekle
    </div>
    <div class="card-body">
        <div class="spinner-border" role="status" style="display: none">
            <span class="sr-only">Loading...</span>
        </div>
        <div class="table-responsive">
            <table class="table table-bordered" id="companyTable" width="100%" cellspacing="0">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Kullanıcı Adı</th>
                        <th>Email</th>
                        <th>Şifre</th>
                        <th>Çalıştığı Şirket</th>
                        <th>Role</th>
                        <th>İlgili Admin İsmi</th>
                        <th width="30%">Options</th>
                    </tr>
                </thead>
                <tfoot>
                    <tr>
                        <th>ID</th>
                        <th>Kullanıcı Adı</th>
                        <th>Email</th>
                        <th>Şifre</th>
                        <th>Çalıştığı Şirket</th>
                        <th>Role</th>
                        <th>İlgili Admin İsmi</th>
                        <th width="30%">Options</th>
                    </tr>
                </tfoot>
                <tbody>
                    @foreach (var user in Model.UserCompanyViewList)
                    {
                        <tr name="@user.UserId">
                            <td>@user.UserId</td>
                            <td>@user.Name</td>
                            <td>@user.Email</td>
                            <td>@user.Password</td>
                            <td>@user.CompanyName</td>
                            <td>@user.RoleName</td>
                            <td>@user.AdminId</td>
                            <td>
                                <button class="btn btn-info btn-sm btn-update" data-id="@user.UserId"><span class="fas fa-edit"></span>Güncelle</button>
                                <button class="btn btn-danger btn-sm  btn-delete" data-id="@user.UserId"><span class="fas fa-minus-circle"></span>Kayıt Sil</button>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

